Preciso implementar uma arquitetura Multi-Tenant (Múltiplos Inquilinos) no meu sistema de Gestão Condominial em Django, além de configurar um PWA focado em Desktop e corrigir problemas de sessão.

1. Refatoração do Banco de Dados (Carta Branca)
Como o sistema ainda não está em produção, você tem carta branca para recriar o banco de dados do zero (apagar migrations atuais e banco) para garantir uma estrutura limpa.

Crie um model Condominio com os campos nome e logotipo (ImageField configurado com MEDIA_URL/MEDIA_ROOT).

Ajuste todos os outros models (incluindo o Custom User) para terem uma Foreign Key obrigatória apontando para o seu respectivo condomínio.

Separação de Contextos: O escopo Global (Administrador do SaaS) gerencia apenas Condomínios e Usuários. Toda a parte de 'Operações' (models de Encomendas, Solicitações, Avisos e Notificações) deve pertencer exclusivamente ao escopo de cada Condominio.

2. Isolamento de Dados e Views

Crie a lógica de filtro nas Views/QuerySets para que o sistema sempre identifique o condomínio do usuário logado (request.user.condominio) e exiba apenas os dados pertencentes a ele. Um usuário do 'Condomínio A' jamais pode acessar os dados do 'Condomínio B'.

3. Painel Administrativo Facilitado (Unfold Theme)

Todo o gerenciamento inicial deve ser feito pelo Django Admin. Eu (Superusuário) crio os condomínios e vinculo os usuários.

Se um usuário com perfil de 'Síndico' acessar o painel, o método get_queryset deve restringi-lo a enxergar e gerenciar apenas os dados do próprio condomínio dele.

4. White-Label (Personalização Visual)

Injete o logotipo dinâmico e o nome do condomínio ({{ request.user.condominio.nome }}) nos templates HTML com base no usuário logado, substituindo qualquer texto ou imagem fixa (hardcoded) nos cabeçalhos e painéis.

5. PWA focado em Desktop (Instalável no PC)

Configure o manifest.json para instalação nativa no Windows/PC (utilizando "display": "standalone" ou "minimal-ui"), para que abra como um software independente.

A UI/UX deve ser Desktop-First, focada no uso contínuo pela Portaria (com tabelas amplas, modais e navegação lateral).

6. Correção de Bug: Erro de CSRF e Cookies no Logout

Atualmente, há um bug onde fazer o logout gera erro de CSRF na tela de login, exigindo a limpeza de cookies.

Corrija isso: Garanta que as views de Login e Logout utilizem o decorator @never_cache. Além disso, configure o Service Worker do PWA para ignorar o cache (bypass) em todas as rotas de autenticação (ex: /login/, /logout/, /admin/login/), garantindo que o token CSRF seja sempre renovado a cada requisição ao servidor.

Como devo reestruturar meus models, views, admin, templates e service workers para aplicar todas essas melhorias?